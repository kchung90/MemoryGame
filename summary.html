<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Memory Game - Summary</title>
        <link rel="stylesheet" href="./css/style.css" />
    </head>
    <body onload="displaySummary()">
        <h1>Your Summary</h1>

        <div id="dashboard-summary"></div>

        <div id="container">
            <input type="text" id="name-input" placeholder="Enter Your Name" value="" />
        </div>

        <div id="button-container">
            <button id="restartButton" type="button" onclick="returnToGame()">Restart</button>
            <button id="submitButton" type="button" onclick="submitData()">Submit</button>
        </div>

        <script>
            function submitData() {
                let xhttp = new XMLHttpRequest();
                let score = localStorage.getItem("score");
                let name = document.getElementById("name-input").value;
                console.log(name);
                console.log(score);
                if (name !== null && name !== "") {
                    xhttp.open("GET", "https://memorygame-db.herokuapp.com/?name=" + name + "&score=" + score, true);
                    xhttp.send();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                            // document.getElementById("server-time").innerHTML = this.responseText;
                        }
                    }
                } else {
                    alert("Name must be filled in!");
                }
            }
        </script>

        <script src="./js/constants.js"></script>
        <script src="./js/main.js"></script>
    </body>
</html>
